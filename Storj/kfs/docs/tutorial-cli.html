<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Tutorial: Command Line Interface</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Tutorial: Command Line Interface</h1>

    <section>

<header>
    

    <h2>Command Line Interface</h2>
</header>

<article>
    <p>KFS comes bundles with a handy command line interface for dealing with your
databases. You can access this tool by installing the package globally:</p>
<pre class="prettyprint source"><code>npm install -g kfs
</code></pre>
<p>Once the installation completes, you can use the <code>kfs</code> command. To see usage
information, run:</p>
<pre class="prettyprint source"><code>Usage: kfs [options] [command]


  Commands:

    write &lt;file_key> [file_path]                 write the file to the database (or read from stdin)
    read &lt;file_key> [file_path]                  read the file from the database (or write to stdout)
    unlink &lt;file_key>                            unlink (delete) the file from the database
    list [options] &lt;bucket_index_or_file_index>  list all of the file keys in the given bucket
    stat [options] [bucket_index_or_file_key]    get the free and used space for the database 
    compact                                      trigger a compaction of all database buckets
    *                                            print usage information to the console

  Options:

    -h, --help          output usage information
    -V, --version       output the version number
    -d, --db &lt;db_path>  path the kfs database to use (default: /home/bookchin/.kfs/default)
</code></pre>
<h3>Writing a File To KFS</h3>
<p>There are two ways to write a file to a KFS database:</p>
<ol>
<li>Supplying an optional path to an existing file</li>
<li>Reading from STDIN</li>
</ol>
<p>To write a file that exists on the file system already, just supply it's path:</p>
<pre class="prettyprint source"><code>kfs write somefilekey /path/to/my/file.bin
</code></pre>
<p>To have the CLI read from STDIN, just pipe the output of another program to it:</p>
<pre class="prettyprint source"><code>cat /path/to/my/file.bin | kfs write somefilekey
</code></pre>
<p>If an error is encountered, the process will terminate and write the error
message to STDERR.</p>
<h3>Reading a File From KFS</h3>
<p>There are two ways to read a file from a KFS database:</p>
<ol>
<li>Supplying a path to write the output</li>
<li>Writing to STDOUT</li>
</ol>
<p>To read from a KFS and write it to a file, just supply a path:</p>
<pre class="prettyprint source"><code>kfs read somefilekey /path/to/write/file.webm
</code></pre>
<p>To have the CLI write to STDOUT, just pipe the output to another program:</p>
<pre class="prettyprint source"><code>kfs read somefilekey | mplayer -
</code></pre>
<p>If an error is encountered, the process will terminate and write the error
message to STDERR.</p>
<h3>Unlinking a File From KFS</h3>
<p>To unlink (or mark for deletion), simply provide the file key:</p>
<pre class="prettyprint source"><code>kfs unlink somefilekey
</code></pre>
<p>If an error is encountered, the process will terminate and write the error
message to STDERR.</p>
<h3>Getting Stats for a KFS</h3>
<p>You can see the amount of space available for a given file key:</p>
<pre class="prettyprint source"><code>kfs stat somefilekey
246.s    34359738368 
</code></pre>
<p>This writes the S-bucket index and the number of bytes available to STDOUT.
You can also view this in a human readable form with the <code>-h</code> option:</p>
<pre class="prettyprint source"><code>kfs stat somefilekey -h
246.s    32.0 GiB
</code></pre>
</article>

</section>

</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-kfs.html">kfs</a></li><li><a href="module-kfs_constants.html">kfs/constants</a></li><li><a href="module-kfs_utils.html">kfs/utils</a></li></ul><h3>Classes</h3><ul><li><a href="BlockStream.html">BlockStream</a></li><li><a href="Btable.html">Btable</a></li><li><a href="ReadableFileStream.html">ReadableFileStream</a></li><li><a href="Sbucket.html">Sbucket</a></li><li><a href="WritableFileStream.html">WritableFileStream</a></li></ul><h3>Events</h3><ul><li><a href="BlockStream.html#event:data">data</a></li><li><a href="BlockStream.html#event:end">end</a></li><li><a href="ReadableFileStream.html#event:data">data</a></li><li><a href="ReadableFileStream.html#event:end">end</a></li><li><a href="ReadableFileStream.html#event:error">error</a></li><li><a href="ReadableFileStream.html#event:readable">readable</a></li><li><a href="Sbucket.html#event:close">close</a></li><li><a href="Sbucket.html#event:idle">idle</a></li><li><a href="Sbucket.html#event:locked">locked</a></li><li><a href="Sbucket.html#event:open">open</a></li><li><a href="Sbucket.html#event:unlocked">unlocked</a></li><li><a href="WritableFileStream.html#event:error">error</a></li><li><a href="WritableFileStream.html#event:finish">finish</a></li></ul><h3>Tutorials</h3><ul><li><a href="tutorial-about.html">Motivation and Mechanics</a></li><li><a href="tutorial-cli.html">Command Line Interface</a></li><li><a href="tutorial-kfs.html">Programmatic Usage</a></li><li><a href="tutorial-performance-testing.html">Performance Testing the Changes</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.11</a> on Sat Nov 09 2024 15:21:40 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>